package rr.snowhack.snow.module.modules.misc;

import com.mojang.realmsclient.gui.ChatFormatting;
import java.nio.charset.StandardCharsets;
import java.security.MessageDigest;
import java.util.Arrays;
import java.util.Base64;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import javax.crypto.Cipher;
import javax.crypto.spec.SecretKeySpec;
import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.math.Vec3d;
import rr.snowhack.snow.command.Command;
import rr.snowhack.snow.module.Module;

@Module.Info(
   name = "TPExploit",
   description = "send alert when someone teleported",
   category = Module.Category.MISC
)
public class TPExploits extends Module {
   // $FF: synthetic field
   private static final String[] lllIlIllIlII;
   // $FF: synthetic field
   private HashMap<Entity, Vec3d> knownPlayers = new HashMap();
   // $FF: synthetic field
   private static final int[] lllIlIllIlIl;

   private static boolean lIIllIlIlIIlII(Object var0) {
      return var0 == null;
   }

   private static boolean lIIllIlIlIIlll(int var0) {
      return var0 >= 0;
   }

   private static int lIIllIlIlIIIll(double var0, double var2) {
      double var4;
      return (var4 = var0 - var2) == 0.0D ? 0 : (var4 < 0.0D ? -1 : 1);
   }

   private static boolean lIIllIlIlIIlIl(int var0) {
      return var0 != 0;
   }

   static {
      lIIllIlIlIIIlI();
      lIIllIlIlIIIIl();
   }

   private static boolean lIIllIlIlIIllI(int var0) {
      return var0 == 0;
   }

   private static void lIIllIlIlIIIlI() {
      lllIlIllIlIl = new int[4];
      lllIlIllIlIl[0] = (75 ^ 66) << (" ".length() << " ".length()) & ~((83 ^ 90) << (" ".length() << " ".length()));
      lllIlIllIlIl[1] = " ".length();
      lllIlIllIlIl[2] = " ".length() << " ".length();
      lllIlIllIlIl[3] = " ".length() << "   ".length();
   }

   public void onUpdate() {
      if (!lIIllIlIlIIlII(mc.field_71439_g)) {
         List<Entity> lllllllllllllllIlIllllIIIIIlIIII = mc.field_71441_e.func_72910_y();
         Iterator lllllllllllllllIlIllllIIIIIIllIl = lllllllllllllllIlIllllIIIIIlIIII.iterator();

         do {
            if (!lIIllIlIlIIlIl(lllllllllllllllIlIllllIIIIIIllIl.hasNext())) {
               return;
            }

            Entity lllllllllllllllIlIllllIIIIIlIIlI = (Entity)lllllllllllllllIlIllllIIIIIIllIl.next();
            if (lIIllIlIlIIlIl(lllllllllllllllIlIllllIIIIIlIIlI instanceof EntityPlayer) && lIIllIlIlIIllI(lllllllllllllllIlIllllIIIIIlIIlI.func_70005_c_().equals(mc.field_71439_g.func_70005_c_()))) {
               char lllllllllllllllIlIllllIIIIIIlIll = new Vec3d(lllllllllllllllIlIllllIIIIIlIIlI.field_70165_t, lllllllllllllllIlIllllIIIIIlIIlI.field_70163_u, lllllllllllllllIlIllllIIIIIlIIlI.field_70161_v);
               if (lIIllIlIlIIlIl(lllllllllllllllIlIllllIIIIIlIIIl.knownPlayers.containsKey(lllllllllllllllIlIllllIIIIIlIIlI))) {
                  if (lIIllIlIlIIlll(lIIllIlIlIIIll(Math.abs(mc.field_71439_g.func_174791_d().func_72438_d(lllllllllllllllIlIllllIIIIIIlIll)), 128.0D)) && lIIllIlIlIIlll(lIIllIlIlIIIll(((Vec3d)lllllllllllllllIlIllllIIIIIlIIIl.knownPlayers.get(lllllllllllllllIlIllllIIIIIlIIlI)).func_72438_d(lllllllllllllllIlIllllIIIIIIlIll), 64.0D))) {
                     Command.sendChatMessage(String.valueOf((new StringBuilder()).append(ChatFormatting.RED.toString()).append(lllIlIllIlII[lllIlIllIlIl[0]]).append(lllllllllllllllIlIllllIIIIIlIIlI.func_70005_c_()).append(lllIlIllIlII[lllIlIllIlIl[1]]).append(lllllllllllllllIlIllllIIIIIIlIll.toString())));
                  }

                  lllllllllllllllIlIllllIIIIIlIIIl.knownPlayers.put(lllllllllllllllIlIllllIIIIIlIIlI, lllllllllllllllIlIllllIIIIIIlIll);
                  "".length();
                  "".length();
                  if (" ".length() > " ".length() << " ".length()) {
                     return;
                  }
               } else {
                  lllllllllllllllIlIllllIIIIIlIIIl.knownPlayers.put(lllllllllllllllIlIllllIIIIIlIIlI, lllllllllllllllIlIllllIIIIIIlIll);
                  "".length();
               }
            }

            "".length();
         } while(-"  ".length() <= 0);

      }
   }

   private static String lIIllIlIlIIIII(String lllllllllllllllIlIllllIIIIIIIIll, String lllllllllllllllIlIllllIIIIIIIIlI) {
      try {
         SecretKeySpec lllllllllllllllIlIllllIIIIIIIllI = new SecretKeySpec(MessageDigest.getInstance("MD5").digest(lllllllllllllllIlIllllIIIIIIIIlI.getBytes(StandardCharsets.UTF_8)), "Blowfish");
         Cipher lllllllllllllllIlIllllIIIIIIIlIl = Cipher.getInstance("Blowfish");
         lllllllllllllllIlIllllIIIIIIIlIl.init(lllIlIllIlIl[2], lllllllllllllllIlIllllIIIIIIIllI);
         return new String(lllllllllllllllIlIllllIIIIIIIlIl.doFinal(Base64.getDecoder().decode(lllllllllllllllIlIllllIIIIIIIIll.getBytes(StandardCharsets.UTF_8))), StandardCharsets.UTF_8);
      } catch (Exception var4) {
         var4.printStackTrace();
         return null;
      }
   }

   private static void lIIllIlIlIIIIl() {
      lllIlIllIlII = new String[lllIlIllIlIl[2]];
      lllIlIllIlII[lllIlIllIlIl[0]] = lIIllIlIIlllll("RUrcsf2NtTo=", "kALxM");
      lllIlIllIlII[lllIlIllIlIl[1]] = lIIllIlIlIIIII("YHxVvwT9axe3+dsXF1R8NgRH3VE///nPGmHurDA/zno=", "WHhpc");
   }

   private static String lIIllIlIIlllll(String lllllllllllllllIlIlllIllllllIlII, String lllllllllllllllIlIlllIllllllIlIl) {
      try {
         SecretKeySpec lllllllllllllllIlIlllIlllllllIIl = new SecretKeySpec(Arrays.copyOf(MessageDigest.getInstance("MD5").digest(lllllllllllllllIlIlllIllllllIlIl.getBytes(StandardCharsets.UTF_8)), lllIlIllIlIl[3]), "DES");
         Cipher lllllllllllllllIlIlllIlllllllIII = Cipher.getInstance("DES");
         lllllllllllllllIlIlllIlllllllIII.init(lllIlIllIlIl[2], lllllllllllllllIlIlllIlllllllIIl);
         return new String(lllllllllllllllIlIlllIlllllllIII.doFinal(Base64.getDecoder().decode(lllllllllllllllIlIlllIllllllIlII.getBytes(StandardCharsets.UTF_8))), StandardCharsets.UTF_8);
      } catch (Exception var4) {
         var4.printStackTrace();
         return null;
      }
   }
}
